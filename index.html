<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>IS219 Movie Carousel</title>

  <!-- Bootstrap & Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css" />

  <!-- Custom CSS -->
  <link rel="stylesheet" type="text/css" href="style.css" />

  <!-- Vue.js -->
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>
<div id="vue_app" class="container">

  <!-- Header -->
  <div class="header">
    <h1>{{title}}</h1>
  </div>

  <!-- Main Carousel Section -->
  <div class="main text-center">
    <div class="thumbnail mx-auto position-relative" style="max-width: 500px;">

      <!-- Poster Image -->
      <!-- 
        This displays the poster of the current movie.
        Clicking the poster calls posterClick() which cycles through 
        the posters array for that movie.
      -->
      <img
        @click="posterClick()"
        :src="currentMovie.posters[currentMovie.posterindex]"
        class="img-fluid"
      />

      <!-- Poster Counter -->
    
      <div class="imageInfo">
        {{currentMovie.posterindex + 1}} of {{currentMovie.posters.length}}
      </div>

      <!-- Movie Info -->
      <p class="title">{{currentMovie.title}} ({{currentMovie.country}})</p>
      <p class="score">
        <i class="bi bi-star"></i> {{currentMovie.iscore}}
      </p>
      <p class="runtime">Runtime: {{timeText(currentMovie.runtime)}}</p>
      <p class="released">
        Released: {{makeTextDate(currentMovie.released)}} | Rated: {{currentMovie.rating}}
      </p>
      <p class="websites">
        Websites: 
        <a :href="currentMovie.imdb" target="_blank">IMDB</a> | 
        <a :href="currentMovie.website" target="_blank">Website</a>
      </p>

     
      <div class="social">
        <p class="likes likecolor" @click="like()">
          <i class="bi bi-hand-thumbs-up"></i> {{currentMovie.likes}}
        </p>
        <p class="dislikes dislikecolor" @click="dislike()">
          <i class="bi bi-hand-thumbs-down"></i> {{currentMovie.dislikes}}
        </p>
      </div>

      <!-- Carousel Navigation Buttons -->
      <!-- 
        These buttons move between movies in the carousel.
        nextMovie() increases currentIndex by 1 (with wrap-around using modulo),
        prevMovie() decreases currentIndex by 1 (also wraps around).
        Using currentMovie computed property, all displayed info updates automatically.
      -->
      <button class="btn btn-primary position-absolute top-50 start-0 translate-middle-y"
              @click="prevMovie()">
        <i class="bi bi-chevron-left"></i>
      </button>
      <button class="btn btn-primary position-absolute top-50 end-0 translate-middle-y"
              @click="nextMovie()">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </div>

  <!-- Footer -->
  <div class="footer">
    <a :href="github" target="_blank" id="github" class="btn btn-warning">
      <i class="bi bi-github me-2"></i>{{owner}}
    </a>
  </div>
</div>


<script src="site.js"></script>
</body>
</html>
